(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{11:function(e,t,a){e.exports={overlay:"Modal_overlay__1GbeQ",modal:"Modal_modal__1Ybx2",closebtn:"Modal_closebtn__3qa3I"}},13:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__35vrB",ImageGalleryItemimage:"ImageGalleryItem_ImageGalleryItemimage__1DcW5"}},14:function(e,t,a){e.exports={loader:"App_loader__3udks",p:"App_p__2dMx9"}},24:function(e,t,a){e.exports={container:"Container_container__39h6t"}},25:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__VbNSd",ImageGalleryItem:"ImageGallery_ImageGalleryItem__3dV08",ImageGalleryItemimage:"ImageGallery_ImageGalleryItemimage__15cbY"}},26:function(e,t,a){e.exports={button:"Button_button__3uwpz"}},34:function(e,t,a){},6:function(e,t,a){e.exports={Searchbar:"SearchBar_Searchbar__5sOkz",SearchForm:"SearchBar_SearchForm__kN6y0",SearchFormButton:"SearchBar_SearchFormButton__3n6Es",SearchFormButtonLabel:"SearchBar_SearchFormButtonLabel__2Jzy4",SearchFormInput:"SearchBar_SearchFormInput__VwdI7"}},75:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(8),o=a.n(c),i=(a(34),a(15)),s=a(5),l=a.n(s),u=a(10),m=a(4),d=a(24),b=a.n(d),j=a(2),h=a.n(j),p=a(1),f=function(e){var t=e.children;return Object(p.jsx)("div",{className:b.a.container,children:t})};f.prototype={children:h.a.object.isRequired};var g=f,_=a(6),O=a.n(_);var y=function(e){var t=e.onSubmit,a=Object(r.useState)(""),n=Object(m.a)(a,2),c=n[0],o=n[1];return Object(p.jsx)("header",{className:O.a.Searchbar,children:Object(p.jsxs)("form",{className:O.a.SearchForm,onSubmit:function(e){e.preventDefault(),t(c),o("")},children:[Object(p.jsx)("button",{type:"submit",className:O.a.SearchFormButton,children:Object(p.jsx)("span",{className:O.a.SearchFormButtonLabel,children:"Search"})}),Object(p.jsx)("input",{className:O.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:c,onChange:function(e){o(e.target.value)}})]})})},x=a(25),v=a.n(x),S=a(13),I=a.n(S),w=function(e){var t=e.imgItem,a=e.onSelect;return Object(p.jsx)("li",{className:I.a.ImageGalleryItem,onClick:function(){return a(t)},children:Object(p.jsx)("img",{src:t.webformatURL,alt:t.tags,className:I.a.ImageGalleryItemimage})},t.id)};w.prototype={imgItem:h.a.objectOf({largeImageURL:h.a.string,webformatURL:h.a.string,tags:h.a.string,id:h.a.string.isRequired})};var G=w;function k(e){var t=e.imgArr,a=e.onSelect;return Object(p.jsx)("ul",{className:v.a.imageGallery,children:t.map((function(e){return Object(p.jsx)(G,{imgItem:e,onSelect:function(){return a(e)}},e.id)}))})}k.prototype={imgArr:h.a.arrayOf(h.a.object).isRequired};var N=k,B=a(26),L=a.n(B),F=function(e){var t=e.onLoadMore;return Object(p.jsx)("button",{onClick:function(){return t()},type:"button",className:L.a.button,children:"Load more"})};F.prototype={onLoadMore:h.a.func.isRequired};var C=F,E=a(29),M=a(11),R=a.n(M),q=document.querySelector("#modal-root");var z=function(e){var t=e.children,a=e.onClose;return Object(r.useEffect)((function(){return window.addEventListener("keydown",(function(){return a()})),function(){window.removeEventListener("keydown",a())}}),[]),Object(c.createPortal)(Object(p.jsxs)("div",{className:R.a.overlay,onClick:function(e){e.currentTarget===e.target&&a()},children:[Object(p.jsx)("div",{className:R.a.modal,children:t}),Object(p.jsx)("button",{type:"button",className:R.a.closebtn,onClick:a,children:Object(p.jsx)(E.a,{size:"2em"})})]}),q)},A=a(27),U=a.n(A),J=a(14),P=a.n(J),V=a(28),D=a.n(V),T=function(){var e=Object(u.a)(l.a.mark((function e(t,a){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("https://pixabay.com/api/?q=".concat(t,"&page=").concat(a,"&key=").concat("21833182-c50b5ade5b44b638c37fcd74e","&image_type=photo&orientation=horizontal&per_page=12"));case 2:return r=e.sent,e.abrupt("return",r.data.hits);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();var Y=function(){var e=Object(r.useState)([]),t=Object(m.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(""),o=Object(m.a)(c,2),s=o[0],d=o[1],b=Object(r.useState)(1),j=Object(m.a)(b,2),h=j[0],f=j[1],_=Object(r.useState)(null),O=Object(m.a)(_,2),x=O[0],v=O[1],S=Object(r.useState)("idle"),I=Object(m.a)(S,2),w=I[0],G=I[1];function k(e){v(null)}return Object(r.useEffect)((function(){if("pending"===w)try{(function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(s,h);case 2:return 0===(t=e.sent).length?(G("reject"),alert("Sorry, we did not find such pictures ".concat(s))):G("resolved"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()().then((function(e){return n((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e))}))}))}catch(e){alert("Pixabay is dead"),G("error")}}),[h,s,w]),Object(r.useEffect)((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}),[a]),Object(p.jsxs)(g,{children:[Object(p.jsx)(y,{onSubmit:function(e){""!==e.trim()&&(d(e),G("pending")),s!==e&&(n([]),f(1))}}),Object(p.jsx)(N,{imgArr:a,onSelect:function(e){v(e)}}),"resolved"===w&&Object(p.jsx)(C,{onLoadMore:function(){f((function(e){return e+1})),G("pending")}}),x&&Object(p.jsxs)(z,{onClose:k,children:[Object(p.jsx)("img",{src:null===x||void 0===x?void 0:x.largeImageURL,alt:null===x||void 0===x?void 0:x.tags}),Object(p.jsx)("button",{type:"button",onClick:k,children:"Close"})]}),"pending"===w&&Object(p.jsxs)("div",{className:P.a.loader,children:[Object(p.jsx)(U.a,{type:"Puff",color:"#a2cce3",height:400,width:400}),Object(p.jsx)("p",{className:P.a.p,children:"Loading..."})]})]})};o.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(Y,{})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.845f9b0c.chunk.js.map