{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","App.module.css","components/Container/Container.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/SearchBar/SearchBar.module.css","components/Container/Container.jsx","components/SearchBar/SearchBar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","services/gallery-api.js","App.js","index.js"],"names":["module","exports","Container","children","className","s","container","prototype","PropTypes","object","isRequired","SearchBar","onSubmit","useState","inputValue","setInputValue","Searchbar","SearchForm","evt","preventDefault","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","value","onChange","e","target","ImageGalleryItem","imgItem","onSelect","onClick","src","webformatURL","alt","tags","ImageGalleryItemimage","id","objectOf","largeImageURL","string","ImageGallery","imgArr","imageGallery","map","arrayOf","Button","onLoadMore","button","func","modalRoot","document","querySelector","Modal","onClose","useEffect","window","addEventListener","removeEventListener","createPortal","overlay","currentTarget","modal","closebtn","size","fetchImages","imgName","pageNum","a","axios","get","response","data","hits","App","imgGallery","setImgGallery","setImgName","setPageNum","selectedObg","setSelectedObg","status","setStatus","toggleMdl","length","alert","getImg","then","NewImgGallery","prevState","scrollTo","top","documentElement","scrollHeight","behavior","InputValue","trim","obg","prevPagenum","loader","color","height","width","p","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.845f9b0c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__1GbeQ\",\"modal\":\"Modal_modal__1Ybx2\",\"closebtn\":\"Modal_closebtn__3qa3I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__35vrB\",\"ImageGalleryItemimage\":\"ImageGalleryItem_ImageGalleryItemimage__1DcW5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"App_loader__3udks\",\"p\":\"App_p__2dMx9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__39h6t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__VbNSd\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__3dV08\",\"ImageGalleryItemimage\":\"ImageGallery_ImageGalleryItemimage__15cbY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3uwpz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__5sOkz\",\"SearchForm\":\"SearchBar_SearchForm__kN6y0\",\"SearchFormButton\":\"SearchBar_SearchFormButton__3n6Es\",\"SearchFormButtonLabel\":\"SearchBar_SearchFormButtonLabel__2Jzy4\",\"SearchFormInput\":\"SearchBar_SearchFormInput__VwdI7\"};","import React from \"react\";\r\nimport s from \"./Container.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Container = ({ children }) => (\r\n  <div className={s.container}>{children}</div>\r\n);\r\n\r\nContainer.prototype = {\r\n  children: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default Container;\r\n","import React, { useState } from \"react\";\r\nimport s from \"./SearchBar.module.css\";\r\n\r\nfunction SearchBar({ onSubmit }) {\r\n  const [inputValue, setInputValue] = useState(\"\");\r\n\r\n  function handleChange(e) {\r\n    setInputValue(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onSubmit(inputValue);\r\n    resetinputValue();\r\n  }\r\n\r\n  function resetinputValue() {\r\n    setInputValue(\"\");\r\n  }\r\n\r\n  return (\r\n    <header className={s.Searchbar}>\r\n      <form className={s.SearchForm} onSubmit={handleSubmit}>\r\n        <button type=\"submit\" className={s.SearchFormButton}>\r\n          <span className={s.SearchFormButtonLabel}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={s.SearchFormInput}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          value={inputValue}\r\n          onChange={handleChange}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default SearchBar;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./ImageGalleryItem.module.css\";\r\n\r\nconst ImageGalleryItem = ({ imgItem, onSelect }) => {\r\n  return (\r\n    <li\r\n      className={s.ImageGalleryItem}\r\n      key={imgItem.id}\r\n      onClick={() => onSelect(imgItem)}\r\n    >\r\n      <img\r\n        src={imgItem.webformatURL}\r\n        alt={imgItem.tags}\r\n        className={s.ImageGalleryItemimage}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.prototype = {\r\n  imgItem: PropTypes.objectOf({\r\n    largeImageURL: PropTypes.string,\r\n    webformatURL: PropTypes.string,\r\n    tags: PropTypes.string,\r\n    id: PropTypes.string.isRequired,\r\n  }),\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport s from \"./ImageGallery.module.css\";\r\nimport PropTypes from \"prop-types\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\n\r\nfunction ImageGallery({ imgArr, onSelect }) {\r\n  return (\r\n    <ul className={s.imageGallery}>\r\n      {imgArr.map((imgItem) => (\r\n        <ImageGalleryItem\r\n          key={imgItem.id}\r\n          imgItem={imgItem}\r\n          onSelect={() => onSelect(imgItem)}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\nImageGallery.prototype = {\r\n  imgArr: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n};\r\nexport default ImageGallery;\r\n","import React from \"react\";\r\nimport s from \"./Button.module.css\";\r\nimport PropTypes from \"prop-types\";\r\nconst Button = ({ onLoadMore }) => {\r\n  return (\r\n    <button onClick={() => onLoadMore()} type=\"button\" className={s.button}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.prototype = {\r\n  onLoadMore: PropTypes.func.isRequired,\r\n};\r\nexport default Button;\r\n","import React, { useEffect } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport { MdClose } from \"react-icons/md\";\r\nimport s from \"./Modal.module.css\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nfunction Modal({ children, onClose }) {\r\n  useEffect(() => {\r\n    window.addEventListener(\"keydown\", () => onClose());\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", onClose());\r\n    };\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  function handleOverlayClick(evt) {\r\n    if (evt.currentTarget === evt.target) {\r\n      onClose();\r\n    }\r\n  }\r\n\r\n  return createPortal(\r\n    <div className={s.overlay} onClick={handleOverlayClick}>\r\n      <div className={s.modal}>{children}</div>\r\n      <button type=\"button\" className={s.closebtn} onClick={onClose}>\r\n        <MdClose size=\"2em\" />\r\n      </button>\r\n    </div>,\r\n    modalRoot\r\n  );\r\n}\r\nexport default Modal;\r\n","import axios from \"axios\";\r\nconst PIXABAY_KEY = \"21833182-c50b5ade5b44b638c37fcd74e\";\r\n\r\nexport const fetchImages = async (imgName, pageNum) => {\r\n  const response = await axios.get(\r\n    `https://pixabay.com/api/?q=${imgName}&page=${pageNum}&key=${PIXABAY_KEY}&image_type=photo&orientation=horizontal&per_page=12`\r\n  );\r\n  return response.data.hits;\r\n};\r\n\r\nexport default fetchImages;\r\n","import React, { useState, useEffect } from \"react\";\nimport Container from \"./components/Container/Container\";\nimport SearchBar from \"./components/SearchBar/SearchBar\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport Button from \"./components/Button/Button\";\nimport Modal from \"./components/Modal/Modal\";\nimport Loader from \"react-loader-spinner\";\nimport s from \"./App.module.css\";\nimport { fetchImages } from \"./services/gallery-api.js\";\n\nfunction App() {\n  const [imgGallery, setImgGallery] = useState([]);\n  const [imgName, setImgName] = useState(\"\");\n  const [pageNum, setPageNum] = useState(1);\n  const [selectedObg, setSelectedObg] = useState(null);\n  const [status, setStatus] = useState(\"idle\");\n  // const [error, setError] = useState(null);\n\n  useEffect(() => {\n    if (status === \"pending\") {\n      try {\n        const getImg = async () => {\n          const response = await fetchImages(imgName, pageNum);\n\n          if (response.length === 0) {\n            setStatus(\"reject\");\n            alert(`Sorry, we did not find such pictures ${imgName}`);\n          } else {\n            setStatus(\"resolved\");\n          }\n          return response;\n        };\n        getImg().then((NewImgGallery) =>\n          setImgGallery((prevState) => [...prevState, ...NewImgGallery])\n        );\n      } catch {\n        alert(`Pixabay is dead`);\n        setStatus(\"error\");\n        // setError(\"error\");\n      }\n    }\n  }, [pageNum, imgName, status]);\n\n  useEffect(() => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  }, [imgGallery]);\n\n  function searchBarInputValueHandler(InputValue) {\n    if (InputValue.trim() !== \"\") {\n      setImgName(InputValue);\n      setStatus(\"pending\");\n    }\n    if (imgName !== InputValue) {\n      setImgGallery([]);\n      setPageNum(1);\n    }\n  }\n\n  function loadMoreBtnHandler() {\n    setPageNum((prevPagenum) => prevPagenum + 1);\n    setStatus(\"pending\");\n  }\n\n  function handleSelectObg(obg) {\n    setSelectedObg(obg);\n  }\n\n  function toggleMdl(evt) {\n    setSelectedObg(null);\n  }\n\n  return (\n    <Container>\n      <SearchBar onSubmit={searchBarInputValueHandler} />\n      <ImageGallery\n        imgArr={imgGallery}\n        onSelect={handleSelectObg}\n      ></ImageGallery>\n      {status === \"resolved\" && <Button onLoadMore={loadMoreBtnHandler} />}\n\n      {selectedObg && (\n        <Modal onClose={toggleMdl}>\n          <img src={selectedObg?.largeImageURL} alt={selectedObg?.tags} />\n          <button type=\"button\" onClick={toggleMdl}>\n            Close\n          </button>\n        </Modal>\n      )}\n\n      {status === \"pending\" && (\n        <div className={s.loader}>\n          <Loader type=\"Puff\" color=\"#a2cce3\" height={400} width={400} />\n          <p className={s.p}>Loading...</p>\n        </div>\n      )}\n    </Container>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}